(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{231:function(t,e,i){"use strict";var r=i(84);i.n(r).a},232:function(t,e,i){"use strict";var r=i(85);i.n(r).a},234:function(t,e,i){"use strict";i.r(e);i(208),i(43),i(37);var r=i(0),s=(i(209),i(210)),n=(i(94),i(95),i(125),i(226));class o{constructor({id:t,x:e,y:i,width:r,height:s,colWidth:a,rowHeight:h,margin:d,draggable:g,resizeable:u,resizeEdges:p,resizeHandleSize:z}){this._moved=!1,this.onDragStartEvent=void 0,this.onDragStartLeft=0,this.onDragStartTop=0,this._onDragStartEvent=new n.SimpleEventDispatcher,this._onDragEvent=new n.SimpleEventDispatcher,this._onDragEndEvent=new n.SimpleEventDispatcher,this.onResizeStartEvent=void 0,this.onResizeStartLeft=0,this.onResizeStartTop=0,this.onResizeStartingWidth=0,this.onResizeStartingHeight=0,this._onResizeStartEvent=new n.SimpleEventDispatcher,this._onResizeEvent=new n.SimpleEventDispatcher,this._onResizeEndEvent=new n.SimpleEventDispatcher,this._id=t,this._colWidth=void 0!==a?a:1,this._rowHeight=void 0!==h?h:1,this._margin=void 0!==d?d:{x:1,y:1},this._x=void 0!==e?e:0,this._left=o.getLeftFromX(this._x,this._colWidth,this._margin),this._y=void 0!==i?i:0,this._top=o.getTopFromY(this._y,this._rowHeight,this._margin),this._width=void 0!==r?r:0,this._widthPx=o.getWidthInPx(this._width,this._colWidth,this._margin),this._height=void 0!==s?s:0,this._heightPx=o.getHeightInPx(this._height,this._rowHeight,this._margin),this._draggable=void 0===g||g,this._resizeable=void 0===u||u,this._resizeEdges=void 0!==p?p:"top bottom left right",this._resizeHandleSize=void 0!==z?z:8}get id(){return this._id}get x(){return this._x}set x(t){this._x=t,this.updatePositionAndSize()}get y(){return this._y}set y(t){this._y=t,this.updatePositionAndSize()}get colWidth(){return this._colWidth}set colWidth(t){this._colWidth=t,this.updatePositionAndSize()}get rowHeight(){return this._rowHeight}set rowHeight(t){this._rowHeight=t,this.updatePositionAndSize()}get margin(){return this._margin}set margin(t){this._margin=t,this.updatePositionAndSize()}get left(){return this._left}set left(t){this._left=t}get top(){return this._top}set top(t){this._top=t}get width(){return this._width}set width(t){this._width=t,this.updatePositionAndSize()}get height(){return this._height}set height(t){this._height=t,this.updatePositionAndSize()}get widthPx(){return this._widthPx}set widthPx(t){this._widthPx=t}get heightPx(){return this._heightPx}set heightPx(t){this._heightPx=t}updatePositionAndSize(){this.left=o.getLeftFromX(this.x,this.colWidth,this.margin),this.top=o.getTopFromY(this.y,this.rowHeight,this.margin),this.widthPx=o.getWidthInPx(this.width,this.colWidth,this.margin),this.heightPx=o.getHeightInPx(this.height,this.rowHeight,this.margin)}get draggable(){return this._draggable}set draggable(t){this._draggable=t}get resizeable(){return this._resizeable}set resizeable(t){this._resizeable=t}get resizeEdges(){return this._resizeEdges}set resizeEdges(t){this._resizeEdges=t}get resizeHandleSize(){return this._resizeHandleSize}set resizeHandleSize(t){this._resizeHandleSize=t}get moved(){return this._moved}set moved(t){this._moved=t}toItem(){return{id:this.id,x:this.x,y:this.y,top:this.top,left:this.left,width:this.width,widthPx:this.widthPx,height:this.height,heightPx:this.heightPx,draggable:this.draggable,resizeable:this.resizeable}}fromItem(t){this._x=t.x,this._y=t.y,this._width=t.width,this._height=t.height,this.updatePositionAndSize()}_onDragStart(t){t&&t.dataTransfer&&(this.onDragStartEvent=t,t.dataTransfer.setData("text/plain",this.id.toString())),this.onDragStartLeft=this.left,this.onDragStartTop=this.top,this._onDragStartEvent.dispatch(this.toItem())}_onDrag(t){if(void 0!==this.onDragStartEvent&&t.screenX>0&&t.screenY>0){let e=+this.onDragStartLeft-this.onDragStartEvent.screenX+t.screenX,i=+this.onDragStartTop-this.onDragStartEvent.screenY+t.screenY;this.left=e,this.top=i,this._onDragEvent.dispatch(this.toItem())}}_onDragEnd(t){t.preventDefault(),this._onDrag(t),this.onDragStartEvent=void 0,this.onDragStartLeft=0,this.onDragStartTop=0,t.dataTransfer&&t.dataTransfer.clearData(),this._onDragEndEvent.dispatch(this.toItem())}get onDragStart(){return this._onDragStartEvent.asEvent()}get onDrag(){return this._onDragEvent.asEvent()}get onDragEnd(){return this._onDragEndEvent.asEvent()}_onResizeStart(t,e){t&&t.dataTransfer&&(this.onResizeStartEvent=t,t.dataTransfer.setData("text/plain",this.id.toString())),this.onResizeStartLeft=this.left,this.onResizeStartTop=this.top,this.onResizeStartingWidth=this.widthPx,this.onResizeStartingHeight=this.heightPx,this._onResizeStartEvent.dispatch(this.toItem())}_onResize(t,e){if(e.includes("left")){let e=+this.onResizeStartLeft-this.onResizeStartEvent.screenX+t.screenX;this.left=e;let i=+this.onResizeStartingWidth+this.onResizeStartEvent.screenX-t.screenX;this.widthPx=i}if(e.includes("right")){let e=+this.onResizeStartingWidth-this.onResizeStartEvent.screenX+t.screenX;this.widthPx=e}if(e.includes("top")){let e=+this.onResizeStartTop-this.onResizeStartEvent.screenY+t.screenY;this.top=e;let i=+this.onResizeStartingHeight+this.onResizeStartEvent.screenY-t.screenY;this.heightPx=i}if(e.includes("bottom")){let e=+this.onResizeStartingHeight-this.onResizeStartEvent.screenY+t.screenY;this.heightPx=e}this._onResizeEvent.dispatch(this.toItem())}_onResizeEnd(t,e){t.preventDefault(),this._onResize(t,e),this.onResizeStartEvent=void 0,this.onResizeStartLeft=0,this.onResizeStartTop=0,this.onResizeStartingHeight=0,this.onResizeStartingWidth=0,this._onResizeEndEvent.dispatch(this.toItem())}get onResizeStart(){return this._onResizeStartEvent.asEvent()}get onResize(){return this._onResizeEvent.asEvent()}get onResizeEnd(){return this._onResizeEndEvent.asEvent()}static getLeftFromX(t,e,i){return Math.round(e*t+(t+1)*i.x)}static getXFromLeft(t,e,i){return Math.round((t-i.x)/(e+i.x))}static getTopFromY(t,e,i){return Math.round(e*t+(t+1)*i.y)}static getYFromTop(t,e,i){return Math.round((t-i.y)/(e+i.y))}static getWidthInPx(t,e,i){return Math.round(e*t+Math.max(0,t-1)*i.x)}static getWidthFromPx(t,e,i){return Math.round((t+i.x)/(e+i.x))}static getHeightInPx(t,e,i){return Math.round(e*t+Math.max(0,t-1)*i.y)}static getHeightFromPx(t,e,i){return Math.round((t+i.y)/(e+i.y))}}var a,h,d,g=["x","y","width","height"],u={name:"item",inheritAttrs:!1,props:{id:{type:[Number,String],required:!0},x:{type:Number,default:0},y:{type:Number,default:0},width:{type:Number,default:1},height:{type:Number,default:1},draggable:{type:Boolean,default:!0},resizeable:{type:Boolean,default:!0},resizeEdges:{type:String,default:"bottom right"},resizeHandleSize:{type:Number,default:8}},inject:["$layout"],provide:function(){var t=this;return{$item:function(){return t.item}}},data:function(){return{item:null,dragging:!1,resizing:!1}},computed:{resizingOrDragging:function(){return this.resizing||this.dragging},classObj:function(){return{dragging:this.resizingOrDragging}},layout:function(){return this.$layout()},left:function(){return this.item.left},top:function(){return this.item.top},widthPx:function(){return this.item.widthPx},heightPx:function(){return this.item.heightPx},resizeTop:function(){return this.resizeEdges.includes("top")},resizeBottom:function(){return this.resizeEdges.includes("bottom")},resizeLeft:function(){return this.resizeEdges.includes("left")},resizeRight:function(){return this.resizeEdges.includes("right")},resizeTopLeft:function(){return this.resizeTop&&this.resizeLeft},resizeBottomLeft:function(){return this.resizeBottom&&this.resizeLeft},resizeTopRight:function(){return this.resizeTop&&this.resizeRight},resizeBottomRight:function(){return this.resizeBottom&&this.resizeRight}},methods:{onDragStart:(d=Object(s.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.dragging=!0,this.item._onDragStart(e),this.$emit("dragStart",this.item),e.target.style.opacity=0;case 4:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)}),onDrag:function(t){this.item._onDrag(t),this.$emit("drag",this.item)},onDragEnd:(h=Object(s.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.item._onDragEnd(e),this.$emit("dragEnd",this.item),e.target.style.opacity=1,t.next=5,this.$nextTick();case 5:this.dragging=!1;case 6:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)}),onResizeStart:function(t,e){this.resizing=!0,this.item._onResizeStart(t,e),this.$emit("resizeStart",this.item),t.target.style.opacity=0},onResize:function(t,e){this.item._onResize(t,e),this.$emit("resize",this.item)},onResizeEnd:(a=Object(s.a)(regeneratorRuntime.mark((function t(e,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.item._onResizeEnd(e,i),this.$emit("resizeEnd",this.item),e.target.style.opacity=1,t.next=5,this.$nextTick();case 5:this.resize=!1;case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return a.apply(this,arguments)}),createPropWatchers:function(){var t=this;Object.keys(this.$props).forEach((function(e){t.$watch(e,function(t,e){return{handler:function(e){this.item[t]!==e&&(this.item[t]=e)},deep:e}}(e,!0))}))},createDashItemWatchers:function(){var t=this;g.forEach((function(e){var i;t.$watch("item."+e,(i=e,{handler:function(t){this.$props[i]!==t&&this.$emit("update:"+i,t)},deep:!0}))}))}},mounted:function(){this.item=new o(this.$props),this.layout.addDashItem(this.item),this.createPropWatchers(),this.createDashItemWatchers()},beforeDestroy:function(){this.layout&&this.layout.removeDashItem(this.item)}},p=(i(231),i(1)),z=Object(p.a)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.item?i("div",{ref:t.id,staticClass:"item",class:t.classObj,style:{width:t.widthPx+"px",height:t.heightPx+"px",left:t.left+"px",top:t.top+"px"},attrs:{id:t.id}},[t.draggable?i("div",{ref:t.id+"-overlay",style:{top:"0px",left:"0px",bottom:"0px",right:"0px",position:"absolute",cursor:"move"},attrs:{draggable:"",id:t.id+"-overlay"},on:{dragstart:function(e){return e.stopPropagation(),t.onDragStart(e)},drag:function(e){return e.stopPropagation(),t.onDrag(e)},dragend:function(e){return e.stopPropagation(),t.onDragEnd(e)}}},[t.resizeTop&&!t.dragging?i("div",{ref:t.id+"-resizeTop",style:{height:t.resizeHandleSize+"px",left:0,right:0,cursor:"ns-resize",position:"absolute"},attrs:{draggable:"",id:t.id+"-resizeTop"},on:{dragstart:function(e){return e.stopPropagation(),t.onResizeStart(e,"top")},drag:function(e){return e.stopPropagation(),t.onResize(e,"top")},dragend:function(e){return e.stopPropagation(),t.onResizeEnd(e,"top")}}},[t._t("resizeTop")],2):t._e(),t._v(" "),t.resizeBottom&&!t.dragging?i("div",{ref:t.id+"-resizeBottom",style:{height:t.resizeHandleSize+"px",left:"0px",right:"0px",bottom:"0px",cursor:"ns-resize",position:"absolute"},attrs:{draggable:"",id:t.id+"-resizeBottom"},on:{dragstart:function(e){return e.stopPropagation(),t.onResizeStart(e,"bottom")},drag:function(e){return e.stopPropagation(),t.onResize(e,"bottom")},dragend:function(e){return e.stopPropagation(),t.onResizeEnd(e,"bottom")}}},[t._t("resizeBottom")],2):t._e(),t._v(" "),t.resizeLeft&&!t.dragging?i("div",{ref:t.id+"-resizeLeft",style:{width:t.resizeHandleSize+"px",top:"0px",bottom:"0px",left:"0px",cursor:"ew-resize",position:"absolute"},attrs:{draggable:"",id:t.id+"-resizeLeft"},on:{dragstart:function(e){return e.stopPropagation(),t.onResizeStart(e,"left")},drag:function(e){return e.stopPropagation(),t.onResize(e,"left")},dragend:function(e){return e.stopPropagation(),t.onResizeEnd(e,"left")}}},[t._t("resizeLeft")],2):t._e(),t._v(" "),t.resizeRight&&!t.dragging?i("div",{ref:t.id+"-resizeRight",style:{width:t.resizeHandleSize+"px",top:"0px",bottom:"0px",right:"0px",cursor:"ew-resize",position:"absolute"},attrs:{draggable:"",id:t.id+"-resizeRight"},on:{dragstart:function(e){return e.stopPropagation(),t.onResizeStart(e,"right")},drag:function(e){return e.stopPropagation(),t.onResize(e,"right")},dragend:function(e){return e.stopPropagation(),t.onResizeEnd(e,"right")}}},[t._t("resizeRight")],2):t._e(),t._v(" "),t.resizeTopLeft&&!t.dragging?i("div",{ref:t.id+"-resizeTopLeft",style:{width:2*t.resizeHandleSize+"px",height:2*t.resizeHandleSize+"px",top:t.resizeHandleSize/-2+"px",left:t.resizeHandleSize/-2+"px",cursor:"nw-resize",position:"absolute"},attrs:{draggable:"",id:t.id+"-resizeTopLeft"},on:{dragstart:function(e){return e.stopPropagation(),t.onResizeStart(e,"top left")},drag:function(e){return e.stopPropagation(),t.onResize(e,"top left")},dragend:function(e){return e.stopPropagation(),t.onResizeEnd(e,"top left")}}},[t._t("resizeTopLeft")],2):t._e(),t._v(" "),t.resizeTopRight&&!t.dragging?i("div",{ref:t.id+"-resizeTopRight",style:{width:2*t.resizeHandleSize+"px",height:2*t.resizeHandleSize+"px",top:t.resizeHandleSize/-2+"px",right:t.resizeHandleSize/-2+"px",cursor:"ne-resize",position:"absolute"},attrs:{draggable:"",id:t.id+"-resizeTopRight"},on:{dragstart:function(e){return e.stopPropagation(),t.onResizeStart(e,"top right")},drag:function(e){return e.stopPropagation(),t.onResize(e,"top right")},dragend:function(e){return e.stopPropagation(),t.onResizeEnd(e,"top right")}}},[t._t("resizeTopRight")],2):t._e(),t._v(" "),t.resizeBottomLeft&&!t.dragging?i("div",{ref:t.id+"-resizeBottomLeft",style:{width:2*t.resizeHandleSize+"px",height:2*t.resizeHandleSize+"px",bottom:t.resizeHandleSize/-2+"px",left:t.resizeHandleSize/-2+"px",cursor:"ne-resize",position:"absolute"},attrs:{draggable:"",id:t.id+"-resizeBottomLeft"},on:{dragstart:function(e){return e.stopPropagation(),t.onResizeStart(e,"bottom left")},drag:function(e){return e.stopPropagation(),t.onResize(e,"bottom left")},dragend:function(e){return e.stopPropagation(),t.onResizeEnd(e,"bottom left")}}},[t._t("resizeBottomLeft")],2):t._e(),t._v(" "),t.resizeBottomRight&&!t.dragging?i("div",{ref:t.id+"-resizeBottomRight",style:{width:2*t.resizeHandleSize+"px",height:2*t.resizeHandleSize+"px",bottom:t.resizeHandleSize/-2+"px",right:t.resizeHandleSize/-2+"px",cursor:"nw-resize",position:"absolute"},attrs:{draggable:"",id:t.id+"-resizeBottomRight"},on:{dragstart:function(e){return e.stopPropagation(),t.onResizeStart(e,"bottom right")},drag:function(e){return e.stopPropagation(),t.onResize(e,"bottom right")},dragend:function(e){return e.stopPropagation(),t.onResizeEnd(e,"bottom right")}}},[t._t("resizeBottomRight")],2):t._e()]):t._e(),t._v(" "),t._t("default")],2):t._e()}),[],!1,null,null,null).exports;class l{constructor({id:t,margin:e,autoHeight:i,width:r}){this._id=t,this._layouts=[],this._margin=void 0!==e?e:{x:10,y:10},this._autoHeight=void 0===i||i,this._width=void 0!==r?r:400}get id(){return this._id}get breakpoints(){let t=[];for(let e of this._layouts)t.push({name:e.breakpoint,numberOfCols:e.numberOfCols,setpoint:e.breakpointWidth});return t.sort((t,e)=>void 0!==t.setpoint&&void 0!==e.setpoint?+t.setpoint-+e.setpoint:void 0===t.setpoint?1:-1),t}get currentBreakpoint(){return this.updateCurrentBreakpoint()}get layouts(){return this._layouts}set layouts(t){this._layouts=t}get margin(){return this._margin}set margin(t){this._margin=t}get autoHeight(){return this._autoHeight}set autoHeight(t){this._autoHeight=t}get width(){return this._width}set width(t){this._width=t,this.updateCurrentBreakpoint(),this.updateLayouts()}updateCurrentBreakpoint(){if(0==this.breakpoints.length)return"";let t=this.breakpoints[0].name;for(let e=1;e<this.breakpoints.length;e++)void 0!==typeof this.breakpoints[e].setpoint&&this.width>this.breakpoints[e].setpoint&&(t=this.breakpoints[e].name);return t}setMargins(t){this.margin=t}sortBreakpoints(){this.breakpoints.sort((t,e)=>void 0!==t.setpoint&&void 0!==e.setpoint?+t.setpoint-+e.setpoint:void 0===t.setpoint?1:-1)}addLayoutInstance(t){this._layouts.push(t)}updateLayouts(){this._layouts.forEach(t=>{t.width=this.width})}removeLayoutInstance(t){let e=this.layouts.findIndex(e=>t.breakpoint===e.breakpoint);e>=0&&this._layouts.splice(e,1)}}var c={name:"Dashboard",props:{id:{type:[Number,String],required:!0},layouts:Array},components:{},data:function(){return{d:null,dragging:!1}},provide:function(){var t=this;return{$dashboard:function(){return t.d}}},computed:{},methods:{onResize:function(t){this.d.width=t.detail.width}},created:function(){this.d=new l(this.id)}},f=(i(232),Object(p.a)(c,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.d?e("div",{directives:[{name:"resize",rawName:"v-resize"}],ref:this.id,attrs:{id:this.id},on:{resize:this.onResize}},[this._t("default")],2):this._e()])}),[],!1,null,null,null).exports);i.d(e,"DashItem",(function(){return z})),i.d(e,"Dashboard",(function(){return f}));var m={DashItem:z,Dashboard:f};Object.keys(m).forEach((function(t){r.a.component(t,m[t])}));e.default=m},84:function(t,e,i){},85:function(t,e,i){}}]);